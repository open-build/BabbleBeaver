# CORS Configuration
# Comma-separated list of allowed origins for API requests
# Production example: http://localhost,https://localhost,http://labs.buildly.io,https://labs.buildly.io
CORS_ALLOWED_DOMAINS=http://localhost:8000,http://localhost:3000,https://your-production-domain.com

# Google Cloud / Vertex AI Configuration (for production)
# If PROJECT_ID is set, will use Vertex AI instead of standard Gemini API
# Required for Vertex AI (NOT optional!)
PROJECT_ID=
LOCATION=us-west1
VERTEX_MODEL_NAME=gemini-2.0-flash-exp

# LLM API Keys
# GOOGLE_API_KEY is used for both standard Gemini and Vertex AI authentication
GOOGLE_API_KEY=
GEMINI_API_KEY=
OPENAI_API_KEY=
HUGGINGFACE_AUTH_TOKEN=

# LLM Provider Configuration
# Primary provider (lowest priority number is tried first)
# Note: GEMINI_MODEL is overridden by VERTEX_MODEL_NAME if using Vertex AI
GEMINI_MODEL=gemini-2.0-flash
GEMINI_PRIORITY=0
GEMINI_ENABLED=true

OPENAI_MODEL=gpt-4o-mini
OPENAI_PRIORITY=1
OPENAI_ENABLED=true

HUGGINGFACE_MODEL=meta-llama/Llama-2-7b-chat-hf
HUGGINGFACE_PRIORITY=2
HUGGINGFACE_ENABLED=false

# Application Configuration
INITIAL_PROMPT_FILE_PATH=""

# Database Configuration
# Leave empty to use SQLite (chatbot.db)
# For PostgreSQL: postgresql://user:password@host:port/database
# For managed PostgreSQL (e.g., Google Cloud SQL, AWS RDS):
# DATABASE_URL=postgresql://username:password@host:5432/dbname
DATABASE_URL=

# Context Management & Caching
# Enable Redis for distributed sessions (optional)
USE_REDIS=false
REDIS_URL=redis://localhost:6379/0

# Context cache settings
CONTEXT_CACHE_SIZE=1000        # Max sessions in memory
CONTEXT_CACHE_TTL=3600         # Session TTL in seconds (1 hour)

# Context-Aware System (OPTIONAL - Enabled by Default)
# Enable intelligent context awareness for more relevant responses
# Accepts ANY JSON context data from frontend without assumptions
# If context is provided in the request, it will automatically be used
CONTEXT_AWARE_MODE=auto          # auto (default), disabled
CONTEXT_PROMPT_TEMPLATE=minimal  # minimal, verbose

# Buildly Labs Agent Configuration
BUILDLY_AGENT=true
BUILDLY_API_BASE_URL=https://labs-api.buildly.io
BUILDLY_AUTH_TOKEN=

# Admin Authentication
# IMPORTANT: Change these values in production!
# Admin credentials are used to:
# 1. Login to /admin dashboard
# 2. Generate new API tokens
ADMIN_USERNAME=admin
ADMIN_PASSWORD=changeme123

# API Token Authentication
# PRIORITY 1: Environment variable token (optional, for backward compatibility)
# If set, this token always works without database lookup
API_KEY=your-api-key-here

# PRIORITY 2: Database-managed tokens (recommended)
# Generate tokens via /admin dashboard (Tokens tab)
# Tokens are stored in db/tokens.db and work immediately
# Include token in API requests: Authorization: Bearer YOUR_TOKEN
# 
# NOTE: /chat and /chatbot endpoints are PUBLIC (no auth required for web UI)
# Authentication only needed for programmatic API access

